# -*- mode: sh -*-
# Lines configured by zsh-newuser-install
HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=1000
setopt autocd extendedglob nomatch notify
unsetopt appendhistory beep
bindkey -e
# End of lines configured by zsh-newuser-install
# The following lines were added by compinstall
zstyle :compinstall filename '/home/jmxg/.zshrc'
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'

autoload -Uz compinit
compinit

autoload -U promptinit && promptinit
prompt bart

# Set word boundary to Bash-style
autoload -U select-word-style
select-word-style bash

# Aliases
alias ls="ls -G"
alias pg="$PAGER"
alias tmux="TERM=xterm-256color tmux"
alias root="sudo $SHELL"
alias multimonitor="xrandr --output HDMI1 --auto --left-of LVDS1"
alias py="python3"
alias xmessage="xmessage -geometry -0+0 -buttons ''"
alias transmission="transmission -er"
alias at="optirun ~/java/bin/java -jar ~/downloads/AT/ATLauncher.jar"
alias touchpadtoggle="~/prog/sh/touchpadtoggle.sh"
alias t="tmux"
alias s="sudo"
alias a="ansible"
alias ap="ansible-playbook"
alias vb="VirtualBox"
alias v="vagrant"
alias d="docker"
alias cx="chmod +x"

# System aliases
alias poweroff="shutdown -h now"
alias reboot="shutdown -r now"
alias sd="shutdown -h now"
alias qq="shutdown -h now"
alias rb="shutdown -r now"

#alias top="top -s 1"

# Git configuration
alias g="git"
alias gs="git status"
alias ga="git add"
alias gc="git commit"
alias gca="git commit -a"

# Emacs configuration
alias calc="emacs -nw -f full-calc"
alias e="emacsclient -c -t -a \"\""
# if [ $INSIDE_EMACS ]; then

# fi

EDITOR="/home/$USER/bin/ec"

# Linux aliases
if [ "$(uname)" = "Linux" ]; then
    # alias battery="cat /sys/class/power_supply/BAT1/capacity" # Broken on latitude
    alias temp="sensors"
fi

if [ -f /etc/arch-release ]; then
    alias p="pacman"
    alias sp="sudo pacman"
    alias y="yaourt"
fi

# FreeBSD aliases
if [ "$(uname)" = "FreeBSD" ]; then
    alias battery="sysctl -a | grep battery"
    alias temp="sysctl -a | grep temperature"

    # Pkg aliases
    alias pkg="sudo pkg"
    alias upkg="/usr/sbin/pkg"
    alias pkgi="sudo pkg install"
    alias pkgd="sudo pkg delete"
    alias pkgu="sudo pkg upgrade"
    alias pkgn="/usr/sbin/pkg info"
    alias pkgs="/usr/sbin/pkg search"
    alias pm="portmaster"
    alias spm="sudo portmaster"

    # ZFS aliases
    alias snapshot="sudo zfs snapshot -r zroot/ROOT@`date +%Y%m%d%H%M`"
fi

# Colored man pages
man() {
	  env LESS_TERMCAP_mb=$'\E[01;31m' \
	      LESS_TERMCAP_md=$'\E[01;38;5;74m' \
	      LESS_TERMCAP_me=$'\E[0m' \
	      LESS_TERMCAP_se=$'\E[0m' \
	      LESS_TERMCAP_so=$'\E[38;5;246m' \
	      LESS_TERMCAP_ue=$'\E[0m' \
	      LESS_TERMCAP_us=$'\E[04;38;5;146m' \
	      man "$@"
}

# Added by "perl Build installdeps" run in the FvwmPiazza directory, which may or may not be relevant
PERL_MB_OPT="--install_base \"/home/jmxg/perl5\""; export PERL_MB_OPT;
PERL_MM_OPT="INSTALL_BASE=/home/jmxg/perl5"; export PERL_MM_OPT;

# My keybindings
bindkey "[33~" backward-kill-word
bindkey "^[[B" history-beginning-search-forward # Up arrow
bindkey "^[[A" history-beginning-search-backward # Down arrow
